import{r as a,j as e,q as p,c as f,d as h,w as b,g}from"./index-H1kLPFNU.js";import{I as j}from"./Input-C0M9PrMI.js";function S({onSearch:t}){const[s,l]=a.useState(""),[n,d]=a.useState(null),o=r=>{l(r)},i=r=>{r.preventDefault();const c=/^\d+$/.test(s);d(c),s.trim()&&c&&t(s)};return e.jsx(e.Fragment,{children:e.jsxs("form",{className:"flex gap-1 flex-col",onSubmit:r=>i(r),children:[e.jsx(j,{type:"text",value:s,label:"رقم التسجيل - student ID",onChange:o,error:n,errorMsg:"الرجاء كتابة رقم تسجيل صالح",customStyle:"![direction:ltr] text-center self-center"}),e.jsx("button",{type:"submit",className:"cursor-pointer rounded bg-p-color font-bold text-white w-fit self-center px-5 py-3 my-4 hover:text-bg2-color-color hover:bg-s-color transition-all duration-300 ease-linear",children:"إستعلام"})]})})}function N({result:t,error:s,loading:l}){return e.jsx("div",{className:"bg-bg-color text-white flex flex-col  justify-center shadow-md p-4 rounded",children:s?e.jsx("p",{className:"text-red-500 text-center text-xl",children:s}):l?e.jsxs("div",{className:"flex items-center gap-3 mx-auto",children:[e.jsx("span",{className:"block size-5 border-2 border-bg2-color border-b-transparent rounded-full animate-spin  "}),e.jsx("p",{className:" text-green-600 font-bold text-xl",children:"جاري البحث..."})]}):e.jsxs("div",{className:"std__info flex flex-col gap-4 mx-auto w-fit",children:[e.jsxs("div",{className:"std__name flex font-bold",children:[e.jsx("p",{className:"pl-1",children:" الاسم :"}),e.jsx("p",{children:t==null?void 0:t.stdName})]}),e.jsxs("div",{className:"std__grade flex font-bold",children:[e.jsx("p",{className:"pl-1",children:"الدرجة :"}),e.jsx("p",{children:t==null?void 0:t.stdGrade})]})]})})}function v(){const[t,s]=a.useState(null),[l,n]=a.useState(!1),[d,o]=a.useState(""),[i,r]=a.useState(!1),c=async m=>{n(!0),o(""),s(null),r(!0);try{const x=p(f(h,"grades"),b("std_id","==",m.trim())),u=await g(x);u.empty?o("لم يتم العثور على الطالب"):s(u.docs[0].data())}catch(x){console.log(x),o("حدث خطأ أثناء البحث")}finally{n(!1)}};return e.jsxs("div",{className:"bg-bg2-color shadow-2xl p-5 rounded w-[min(95%,550px)]",children:[e.jsx("h1",{className:"text-center font-extrabold text-3xl mt-3 mb-10 text-title-color",children:"نتائج الطلاب"}),e.jsx(S,{onSearch:c}),i&&e.jsx(N,{result:t,error:d,loading:l})]})}export{v as default};
